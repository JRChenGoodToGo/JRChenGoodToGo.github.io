<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC|Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="lib/bootstrap-select/js/bootstrap-select.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/68f8681dba.js" crossorigin="anonymous"></script>
    <script src="lib/jquery/1.12.4/jquery.min.js"></script>
    <script src="lib/bootstrapValidator/js/bootstrapValidator.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="css/index.css">
    <script src="js/index.js"></script>


    <script typet="text/javascript">
        $(function () {

            // if ($(sessionScope.member != null)) {
            //     $(".login-before").addStyle("display: none;");
            //     $(".login-after").removeStyle("display: none;");
            // }

            // $("#out").click(function () {
            //     var flag = window.confirm("成功登出");
            //     if (flag) {
            //         window.location.href = "member?oper=out";
            //     }
            // });

            $(".fa-star").click(function () {
                if ($(this).css("color") == 'rgb(240, 171, 65)') {
                    $(this).css("color", "#707070");
                } else {
                    $(this).css("color", "#f0ab41");
                }
            })
            // if ($(sessionScope.user != null)) {
            //     $(".login-before").addClass("hidden");
            //     $(".login-after").removeClass("hidden");
            // }

            // $("#out").click(function () {
            //     var flag = window.confirm("成功登出");
            //     if (flag) {

            //         window.location.href = "member?oper=out";
            //     }
            // });

            // if ($(homep.li == 1)) {
            //     $('.nav-tabs li:eq(1) a').tab('show');
            // } else {
            //     $('.nav-tabs li:eq(2) a').tab('show');
            // }
        })
    </script>


    <title>音樂祭網站首頁</title>
</head>

<body>
    <!-- 導覽列 -->
    <header>
        <!-- <div class='container'> -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <button class="btn" href="homePage.html"><img class="col-md-4" src='pictures/logo.jpg'
                    width='150px'></button>


            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- <ul class="navbar-nav mr-auto"> -->
                <form class="d-flex">
                    <input class="form-control me-3" type="search" placeholder="搜尋" aria-label="Search">
                    <button class="btn" type="submit"><i class="fas fa-search"></i></button>
                </form>
                <!-- <form class="nav navbar-nav navbar-right login-before"> -->
                <button class="btn" id="user"><i class="fas fa-user" href="login.html"></i></button>
                <!-- </form> -->
                <form class="nav navbar-nav navbar-right login-after" hidden>
                    <li><a href="collection.html"><i class="fas fa-user" id="user">&nbsp;&nbsp;</i>用戶名</a></li>
                    <li><a href="javascript:void(0)" id="out">登出</a></li>
                </form>

                <!-- </ul> -->
            </div>
        </nav>
        </div>
    </header>

    <!-- 封面 -->
    <section id='cover'>
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="pictures/music-event.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="pictures/slide_1.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="pictures/cover-image-3.png" class="d-block w-100" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </section>

    <!-- 活動列表 -->
    <section id='main'>
        <!-- <div class="container"> -->
        <div class='col-md-1'></div>
        <div class='col-md-10'>
            <div class='row'>
                <div class='col-md-2'></div>
                <h1>最新活動</h1>
                <select id="area" name="area">
                    <option value="">地區</option>
                    <option value="north">北</option>
                    <option value="central">中</option>
                    <option value="south">南</option>
                    <option value="east">東</option>
                </select>
                <select id="year" name="year">
                    <option value="">年份</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                </select>
                <select id="season" name="month">
                    <option value="">月份</option>
                    <option value="Q1">1-3月</option>
                    <option value="Q2">4-6月</option>
                    <option value="Q3">7-9月</option>
                    <option value="Q4">10-12月</option>
                    </optgroup>
                </select>
                <!-- <select name="month">
                        <option value="">月份</option>
                        <optgroup label="2021" name="2021">
                            <option value="7">7-9月</option>
                            <option value="10">10-12月</option>
                        </optgroup>
                        <optgroup label="2022" name="2021">
                            <option value="1">1-3月</option>
                            <option value="4">4-6月</option>
                            <option value="7">7-9月</option>
                            <option value="10">10-12月</option>
                        </optgroup>
                    </select> -->
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class='outer'>
                <div class='row'>
                    <div class='col-md-6 offset-md-1 text-center'>
                        <div class='concertPictures'>
                            <a class="acid" href='concert.html'>
                                <img class="photo" src='pictures/inner.png'>
                            </a>
                            <div class='coll'>
                                <i class="fas fa-star fa-2x" id="star"></i>
                                <!-- <li>&#9733;</li> -->
                            </div>
                        </div>
                    </div>
                    <div class='col-md-5 text-center'>
                        <div class='concertIntro'>
                            <a href='concert.html'>
                                <aside class="post-category">
                                    <a class="tag" rel="category tag">tag&nbsp;</a>
                                    <i>．&nbsp;</i>
                                    <a class="tag2" rel="category tag">tag</a>
                                </aside>
                                <h3 class="theme">活動名</h3>
                                <p class='lead'>TTTTTTTTTTTTTTTTTTTTTTTTTTT</p>
                                <p class="player">OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
                                <p class="host">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class='col-md-1'></div>
    </section>
    <div class="row">
        <button class="btn">.</button>
        <button class="btn">.</button>
        <button class="btn">.</button>

    </div>

    <section id='login'>
        <div class="container">
            <div class='row'>
                <div class='col-md-8 offset-md-2 text-center'>
                    <h3>我要宣傳活動</h3>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-8 offset-md-2 text-left text-center'>
                    <p>加入我們，放出你的音樂!</p>
                    <a class="btn btn-primary btn-lg" href="register.html" role="button">註冊</a>
                </div>
            </div>
        </div>
    </section>4

    <!-- bottom -->
    <div class="bottom clearfix">
        <div id="returnTop" class="pull-right" title="return to Top">
            <img src="pictures/scroll.png" alt="returnTop">
        </div>
    </div>

    <footer style="background-color: black; ">

        <div class="copyrights">
            <div class="copyright-text text-center">Copyright © 2021 </div>
        </div>
    </footer>


    <script src="js/jquery.js"></script>
    <script>
        $(document).ready(function () {
            var url = new URL(location.href)
            // $(".outer").each(function(index, elem){
            //     $.ajax({
            //     url: 'http://localhost:8081/labboot/pages/showactivity/def/'+ (parseInt(index) + 1),
            //     type: 'GET',
            //     // data: JSON.stringify(data),
            //     // dataType: 'json',
            //     contentType: 'application/json;charset=UTF-8',
            //     statusCode: {
            //         200: function (result) {
            //             $(`.theme:eq(${index})`).text(result.theme)
            //             $(`.lead:eq(${index})`).text(result.host)
            //             $(`.player:eq(${index})`).text(result.bandIntro)
            //             $(`.locationId:eq(${index})`).text(result.locationId)
            //             $(`.photo:eq(${index})`).attr("src", "data:image/png;base64,"+result.photo);
            //             console.log(result);
            //         },
            //         500: function (result) {
            //             $(`.outer:eq(${index})`).css("display","none")
            //             console.log("notFound")
            //         }
            //     }
            // })

            // })
            // if ($("#area").val() == '') {
            let row = 7;
            if (location.href.indexOf('memberId') != -1) {
                $.ajax({
                    url: 'http://localhost:8081/labboot/pages/showactivity/def/' + row,
                    type: 'GET',
                    // data: JSON.stringify(data),
                    // dataType: 'json',
                    contentType: 'application/json;charset=UTF-8',
                    statusCode: {
                        200: function (result) {
                            $(".outer").each(function (index, elem) {
                                $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                $(`.tag:eq(${index})`).text(result[index].tagName)
                                $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                $(`.theme:eq(${index})`).text(result[index].theme)
                                $(`.lead:eq(${index})`).text(result[index].subTitle)
                                $(`.player:eq(${index})`).text(result[index].player)
                                $(`.host:eq(${index})`).text(result[index].host)
                                $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                console.log(result[index]);
                            })

                        },
                        204: function (result) {
                            $(`.outer:eq(${index})`).css("display", "none")
                            console.log("notFound")
                        }
                    }
                })
                // } else {
                $('select', this).change(function () {
                    if ($('#area').val() == '' && $('#year').val() == '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/def/7',
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        $(`.outer`).show()
                                        $(`.tag:eq(${index})`).text(result[index].tagName)
                                        $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                        $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                        $(`.theme:eq(${index})`).text(result[index].theme)
                                        $(`.lead:eq(${index})`).text(result[index].subTitle)
                                        $(`.player:eq(${index})`).text(result[index].player)
                                        $(`.host:eq(${index})`).text(result[index].host)
                                        $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                        console.log(result[index]);
                                    })

                                },
                                204: function (result) {
                                    $(`.outer:eq(${index})`).css("display", "none")
                                    console.log("notFound")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() == '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/area/' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() == '' && $('#year').val() != '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year/' + $("#year").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() == '' && $('#year').val() == '' && $('#season').val() != '') {
                        alert('請先輸入年份')
                    } else if ($('#area').val() == '' && $('#year').val() != '' && $('#season').val() != '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-season/' + $("#year").val() + '-' + $("#season").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() == '' && $('#season').val() != '') {
                        alert("請先選擇年份")
                    } else if ($('#area').val() != '' && $('#year').val() != '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-area/' + $("#year").val() + '-' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() != '' && $('#season').val() != '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-season-area/' + $("#year").val() + '-' + $("#season").val() + '-' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    }

                })
                $(".tag").on("click", function () {
                    $.ajax({
                        url: 'http://localhost:8081/labboot/pages/showactivity/tag/' + $(this).text(),
                        type: 'GET',
                        // data: JSON.stringify(data),
                        // dataType: 'json',
                        contentType: 'application/json;charset=UTF-8',
                        statusCode: {
                            200: function (result) {
                                $(".outer").each(function (index, elem) {
                                    if (result[index] != undefined) {
                                        $(`.outer`).show()
                                        $(`.tag:eq(${index})`).text(result[index].tagName)
                                        $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                        $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId + '&memberId=' + url.searchParams.get('memberId'))
                                        $(`.theme:eq(${index})`).text(result[index].theme)
                                        $(`.lead:eq(${index})`).text(result[index].subTitle)
                                        $(`.player:eq(${index})`).text(result[index].player)
                                        $(`.host:eq(${index})`).text(result[index].host)
                                        $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                        console.log(result[index]);
                                    } else {
                                        $(`.outer:eq(${index})`).css("display", "none")
                                        console.log("notFound")
                                    }

                                })

                            },
                            204: function (result) {
                                // $(`.outer`).css("display", "none")
                                $(`.outer`).hide()
                                alert("查無活動資訊")
                            }
                        }
                    })
                })
            } else {

                $.ajax({
                    url: 'http://localhost:8081/labboot/pages/showactivity/def/' + row,
                    type: 'GET',
                    // data: JSON.stringify(data),
                    // dataType: 'json',
                    contentType: 'application/json;charset=UTF-8',
                    statusCode: {
                        200: function (result) {
                            $(".outer").each(function (index, elem) {
                                $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                $(`.tag:eq(${index})`).text(result[index].tagName)
                                $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                $(`.theme:eq(${index})`).text(result[index].theme)
                                $(`.lead:eq(${index})`).text(result[index].subTitle)
                                $(`.player:eq(${index})`).text(result[index].player)
                                $(`.host:eq(${index})`).text(result[index].host)
                                $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                console.log(result[index]);
                            })

                        },
                        204: function (result) {
                            $(`.outer:eq(${index})`).css("display", "none")
                            console.log("notFound")
                        }
                    }
                })
                // } else {
                $('select', this).change(function () {
                    if ($('#area').val() == '' && $('#year').val() == '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/def/7',
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        $(`.outer`).show()
                                        $(`.tag:eq(${index})`).text(result[index].tagName)
                                        $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                        $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                        $(`.theme:eq(${index})`).text(result[index].theme)
                                        $(`.lead:eq(${index})`).text(result[index].subTitle)
                                        $(`.player:eq(${index})`).text(result[index].player)
                                        $(`.host:eq(${index})`).text(result[index].host)
                                        $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                        console.log(result[index]);
                                    })

                                },
                                204: function (result) {
                                    $(`.outer:eq(${index})`).css("display", "none")
                                    console.log("notFound")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() == '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/area/' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() == '' && $('#year').val() != '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year/' + $("#year").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() == '' && $('#year').val() == '' && $('#season').val() != '') {
                        alert('請先輸入年份')
                    } else if ($('#area').val() == '' && $('#year').val() != '' && $('#season').val() != '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-season/' + $("#year").val() + '-' + $("#season").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() == '' && $('#season').val() != '') {
                        alert("請先選擇年份")
                    } else if ($('#area').val() != '' && $('#year').val() != '' && $('#season').val() == '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-area/' + $("#year").val() + '-' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    } else if ($('#area').val() != '' && $('#year').val() != '' && $('#season').val() != '') {
                        $.ajax({
                            url: 'http://localhost:8081/labboot/pages/showactivity/year-season-area/' + $("#year").val() + '-' + $("#season").val() + '-' + $("#area").val() + '/' + row,
                            type: 'GET',
                            // data: JSON.stringify(data),
                            // dataType: 'json',
                            contentType: 'application/json;charset=UTF-8',
                            statusCode: {
                                200: function (result) {
                                    $(".outer").each(function (index, elem) {
                                        if (result[index] != undefined) {
                                            $(`.outer`).show()
                                            $(`.tag:eq(${index})`).text(result[index].tagName)
                                            $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                            $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                            $(`.theme:eq(${index})`).text(result[index].theme)
                                            $(`.lead:eq(${index})`).text(result[index].subTitle)
                                            $(`.player:eq(${index})`).text(result[index].player)
                                            $(`.host:eq(${index})`).text(result[index].host)
                                            $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                            console.log(result[index]);
                                        } else {
                                            $(`.outer:eq(${index})`).css("display", "none")
                                            console.log("notFound")
                                        }

                                    })

                                },
                                204: function (result) {
                                    // $(`.outer`).css("display", "none")
                                    $(`.outer`).hide()
                                    alert("查無活動資訊")
                                }
                            }
                        })
                    }

                })
                $(".tag").on("click", function () {
                    $.ajax({
                        url: 'http://localhost:8081/labboot/pages/showactivity/tag/' + $(this).text(),
                        type: 'GET',
                        // data: JSON.stringify(data),
                        // dataType: 'json',
                        contentType: 'application/json;charset=UTF-8',
                        statusCode: {
                            200: function (result) {
                                $(".outer").each(function (index, elem) {
                                    if (result[index] != undefined) {
                                        $(`.outer`).show()
                                        $(`.tag:eq(${index})`).text(result[index].tagName)
                                        $(`.tag2:eq(${index})`).text(result[index].showAddr.substring(0, 2))
                                        $(`.acid:eq(${index})`).attr("href", "concert.html" + '?activityId=' + result[index].activityId)
                                        $(`.theme:eq(${index})`).text(result[index].theme)
                                        $(`.lead:eq(${index})`).text(result[index].subTitle)
                                        $(`.player:eq(${index})`).text(result[index].player)
                                        $(`.host:eq(${index})`).text(result[index].host)
                                        $(`.photo:eq(${index})`).attr("src", "data:image/png;base64," + result[index].photo);
                                        console.log(result[index]);
                                    } else {
                                        $(`.outer:eq(${index})`).css("display", "none")
                                        console.log("notFound")
                                    }

                                })

                            },
                            204: function (result) {
                                // $(`.outer`).css("display", "none")
                                $(`.outer`).hide()
                                alert("查無活動資訊")
                            }
                        }
                    })
                })
            }
            $('#user').on("click", function () {

                console.log("aaaaaaaaaaaaaaaa")

                if (location.href.indexOf('memberId') != -1) {

                    $(location).attr('href', 'collection.html?memberId=' + url.searchParams.get('memberId'));
                }
                else {
                    $(location).attr('href', 'login.html');
                }
            })
            // $('#star').on("click", function () {
            //     let data = {

            //     }
            //     $.ajax({
            //         url : "http://localhost:8081/labboot/pages/showactivity/collect",
            //         type: "POST",
            //         contentType: 'application/json;charset=UTF-8',

            //     })
            // })





        })
    </script>

</body>

</html>